[{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":null,"dir":"","previous_headings":"","what":"jpgrid ","title":"jpgrid ","text":"jpgrid R package using JIS (Japan Industrial Standard) X 0410 ‘Grid Square Code’. grid square codes square-like regional divisions set regions Japan based longitude latitude. information, please check Statistics Bureau Japan page. summary grid square codes shown . jpgrid, code distinguished length piece grid, grid_80km. jpgrid developed enable faster processing R package jpmesh. main differences jpgrid jpmesh follows Explicitly given grid size (grid_80km). Non-land (ocean) grids supported. can extract nth-order neighboring grids perform complex operations extracting grids calculating distance (line) paths grids.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"jpgrid ","text":"can install jpgrid CRAN. can also install development version GitHub.","code":"install.packages(\"jpgrid\") # install.packages(\"devtools\") devtools::install_github(\"UchidaMizuki/jpgrid\")"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"jpgrid ","text":"","code":"library(jpgrid) library(tidyverse)  JGD2011 <- 6668"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"conversion-of-geometry-to-grid-square-codes","dir":"","previous_headings":"Usage","what":"Conversion of geometry to grid square codes","title":"jpgrid ","text":"geometry_to_grid() can used convert sf objects grid square codes. can also use grid_as_sf() convert data containing grid square codes (class grid) sf object.  grid_city contains 1 km grid square codes municipality Japan.","code":"geom_chiba <- rnaturalearth::ne_states(country = \"japan\",                                        returnclass = \"sf\") |>    filter(name == \"Chiba\") grid_chiba <- geometry_to_grid(geom_chiba, \"10km\") |>    first() |>    grid_as_sf(crs = sf::st_crs(geom_chiba))  grid_chiba |>    ggplot() +   geom_sf(data = geom_chiba) +   geom_sf(fill = \"transparent\") +   geom_sf_text(aes(label = as.character(grid)),                size = 2) grid_city |>    filter(str_starts(city_code, \"121\")) |>    grid_as_sf(crs = JGD2011) |>    ggplot(aes(fill = as_factor(city_name_ja))) +   geom_sf() +   scale_fill_brewer(\"City\",                     palette = \"Set2\")"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"generation-of-grid-square-codes-from-character-strings-or-numbers","dir":"","previous_headings":"Usage","what":"Generation of grid square codes from character strings or numbers","title":"jpgrid ","text":"Use parse_grid() generate grid square codes strings numbers. grid_size = NULL, grid size automatically determined. default (strict = TRUE) requires grid square codes given number digits.","code":"x <- c(\"53394526313\", \"5339358633\", \"533945764\", \"53394611\", \"523503\", \"5339\", NA)  parse_grid(x, grid_size = \"80km\") #> <grid_80km[7]> #> [1] <NA> <NA> <NA> <NA> <NA> 5339 <NA> parse_grid(x, grid_size = \"125m\") #> <grid_125m[7]> #> [1] 53394526313 <NA>        <NA>        <NA>        <NA>        <NA>        #> [7] <NA> parse_grid(x) #> Guessing, grid_size = \"80km\" #> <grid_80km[7]> #> [1] <NA> <NA> <NA> <NA> <NA> 5339 <NA>  parse_grid(x, \"80km\",            strict = FALSE) #> <grid_80km[7]> #> [1] 5339 5339 5339 5339 5235 5339 <NA> parse_grid(x, \"125m\",            strict = FALSE) #> <grid_125m[7]> #> [1] 53394526313 <NA>        <NA>        <NA>        <NA>        <NA>        #> [7] <NA> parse_grid(x,             strict = FALSE) #> Guessing, grid_size = \"80km\" #> <grid_80km[7]> #> [1] 5339 5339 5339 5339 5235 5339 <NA>"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"converting-the-grid-size-of-grid-square-codes","dir":"","previous_headings":"Usage","what":"Converting the grid size of grid square codes","title":"jpgrid ","text":"Use grid_convert() coarsen grid size grid square codes. grid_subdivide() function can used subdivide grid square codes. grid_subdivide() outputs list grid square codes whose elements contained original grids. conversion 500m grid 100m grid supported.","code":"grid_500m <- parse_grid(\"533945764\", \"500m\")  grid_convert(grid_500m, \"1km\") #> <grid_1km[1]> #> [1] 53394576  grid_100m <- grid_subdivide(grid_500m, \"100m\") grid_100m #> [[1]] #> <grid_100m[25]> #>  [1] 5339457655 5339457665 5339457675 5339457685 5339457695 5339457656 #>  [7] 5339457666 5339457676 5339457686 5339457696 5339457657 5339457667 #> [13] 5339457677 5339457687 5339457697 5339457658 5339457668 5339457678 #> [19] 5339457688 5339457698 5339457659 5339457669 5339457679 5339457689 #> [25] 5339457699  tibble(grid_100m = grid_100m[[1]]) |>    grid_as_sf(crs = JGD2011) |>     ggplot() +   geom_sf() +   geom_sf_text(aes(label = as.character(grid_100m)))"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"conversion-from-longitudelatitude-to-grid-square-codes","dir":"","previous_headings":"Usage","what":"Conversion from longitude/latitude to grid square codes","title":"jpgrid ","text":"coords_to_grid() converts longitude latitude grid square codes.","code":"tibble(X = c(139.7008, 135.4375), # longitude        Y = c(35.68906, 34.70833)) |> # latitude   mutate(grid_100m = coords_to_grid(X, Y, \"100m\"),          grid_125m = coords_to_grid(X, Y, \"125m\")) |>    knitr::kable()"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"conversion-from-grid-square-codes-to-longitudelatitude","dir":"","previous_headings":"Usage","what":"Conversion from grid square codes to longitude/latitude","title":"jpgrid ","text":"grid_to_coords() function converts grid square codes longitude latitude.","code":"tibble(grid = parse_grid(c(\"5339452660\", \"5235034590\"), \"100m\")) |>    mutate(grid_to_coords(grid)) |>    knitr::kable()"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"calculation-of-adjacent-grid-square-codes","dir":"","previous_headings":"Usage","what":"Calculation of adjacent grid square codes","title":"jpgrid ","text":"grid_neighbor() function calculates neighboring grids. nth order neighboring grids can calculated specifying n. Can calculated Neumann neighborhood moore = FALSE.","code":"neighbor <- parse_grid(\"644142\", \"10km\") |>    grid_neighbor(n = c(0:2),                 simplify = FALSE)  neighbor[[1]] |>    grid_as_sf(crs = JGD2011) |>       ggplot(aes(fill = as.factor(n))) +   geom_sf() +   geom_sf_text(aes(label = as.character(grid_neighbor))) neighbor_neumann <- parse_grid(\"644142\", \"10km\") |>    grid_neighbor(n = c(0:2),                 simplify = F,                 moore = F)  neighbor_neumann[[1]] |>    grid_as_sf(crs = JGD2011) |>    ggplot(aes(fill = as.factor(n))) +   geom_sf() +   geom_sf_text(aes(label = as.character(grid_neighbor)))"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"draw-line-segments-between-grids","dir":"","previous_headings":"Usage","what":"Draw line segments between grids","title":"jpgrid ","text":"grid_line() function extracts grids lie line segments grids.  can handle case passing multiple grids giving list grids. Close line segment close = TRUE. skip_na = TRUE skip NA.","code":"grid_from <- parse_grid(c(\"6441\", \"5339\"), \"80km\") grid_to <- parse_grid(c(\"5237\", \"5235\"), \"80km\")  line <- grid_line(grid_from, grid_to)  tibble::tibble(grid = line[[1]]) |>    grid_as_sf(crs = JGD2011) |>    ggplot() +   geom_sf() +   geom_sf_text(aes(label = as.character(grid))) grid_1 <- parse_grid(c(\"6441\", \"5339\", NA, \"5250\"), \"80km\") grid_2 <- parse_grid(c(\"6439\", \"5211\", \"4013\", \"6635\"), \"80km\")  line <- grid_line(list(grid_1, grid_2),                    close = TRUE,                   skip_na = TRUE)  tibble::tibble(grid = line[[1]]) |>    grid_as_sf(crs = JGD2011) |>    ggplot() +   geom_sf() +   geom_sf_text(aes(label = as.character(grid)))"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"calculation-of-distance-between-grids","dir":"","previous_headings":"Usage","what":"Calculation of distance between grids","title":"jpgrid ","text":"grid_distance() function calculates distance grids (great circle distance). grid_line(), path distance can calculated list grids.","code":"grid_from <- parse_grid(c(\"6441\", \"5339\"), \"80km\") grid_to <- parse_grid(c(\"5237\", \"5235\"), \"80km\")  distance <- grid_distance(grid_from, grid_to)  print(distance) #> Units: [m] #> [1] 953014.2 371081.9"},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"others","dir":"","previous_headings":"Usage","what":"Others","title":"jpgrid ","text":"grid_move() function can used calculate grid square code east-west north-south directions. grid outside range 80 km grid, digits negative exceed three digits, relevant code displayed <-1> <123> clearly distinguish existing grids.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/README.en.html","id":"comparison-of-processing-speed-with-jpmesh-package","dir":"","previous_headings":"","what":"Comparison of processing speed with jpmesh package","title":"jpgrid ","text":"conversion speed grids latitude/longitude package several tens several hundred times faster jpmesh package.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mizuki Uchida. Author, maintainer.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Uchida M (2023). jpgrid: Functions Grid Square Codes Japan. https://github.com/UchidaMizuki/jpgrid, https://uchidamizuki.github.io/jpgrid/.","code":"@Manual{,   title = {jpgrid: Functions for the Grid Square Codes in Japan},   author = {Mizuki Uchida},   year = {2023},   note = {https://github.com/UchidaMizuki/jpgrid, https://uchidamizuki.github.io/jpgrid/}, }"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"jpgrid-","dir":"","previous_headings":"","what":"Functions for the Grid Square Codes in Japan ","title":"Functions for the Grid Square Codes in Japan ","text":"English version README . jpgridは，日本産業規格JIS X 0410 地域メッシュコード （Grid Square Code）で定められた基準地域メッシュ (1次～3次) と分割地域メッシュ，および3次メッシュ1/10細分区画を利用するためのRパッケージです． 地域メッシュコードは，経度・緯度に基づいて，日本全国の地域に設定された正方形に近い地域区分です． 地域メッシュコードの詳細については，統計局ページを確認してください． 地域メッシュコードの概要を以下に示します．jpgridでは，grid_80kmのように，メッシュの一片の長さで各地域メッシュコードを区別します． jpgridは，Rパッケージのjpmeshより高速な処理を可能とするために開発されたものです． jpgridとjpmeshとの主な違いとして以下が挙げられます． メッシュコードに，メッシュサイズ (grid_80kmなど) が明示的に与えられます． 国土にかからない (海上の) メッシュにも対応しています． n次隣接メッシュの抽出・メッシュ間の (線分) 経路上のメッシュ抽出や距離算出などの複雑な処理が可能です．","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"インストール方法","dir":"","previous_headings":"","what":"インストール方法","title":"Functions for the Grid Square Codes in Japan ","text":"CRANからインストールが可能です． 開発版はGitHubからインストールしてください．","code":"install.packages(\"jpgrid\") # install.packages(\"devtools\") devtools::install_github(\"UchidaMizuki/jpgrid\")"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"使用方法","dir":"","previous_headings":"","what":"使用方法","title":"Functions for the Grid Square Codes in Japan ","text":"","code":"library(jpgrid) library(tidyverse)  JGD2011 <- 6668"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"ジオメトリの地域メッシュコードへの変換","dir":"","previous_headings":"使用方法","what":"ジオメトリの地域メッシュコードへの変換","title":"Functions for the Grid Square Codes in Japan ","text":"geometry_to_grid()により，sfオブジェクトを地域メッシュコードに変換することができます． また，grid_as_sf()により地域メッシュ（gridクラス）を含むデータをsfオブジェクトに変換できます．  また，grid_cityには，市区町村別の1 kmメッシュコードが格納されています．","code":"geom_chiba <- rnaturalearth::ne_states(country = \"japan\",                                        returnclass = \"sf\") |>    filter(name == \"Chiba\") grid_chiba <- geometry_to_grid(geom_chiba, \"10km\") |>    first() |>    grid_as_sf(crs = sf::st_crs(geom_chiba))  grid_chiba |>    ggplot() +   geom_sf(data = geom_chiba) +   geom_sf(fill = \"transparent\") +   geom_sf_text(aes(label = as.character(grid)),                size = 2) grid_city |>    filter(str_starts(city_code, \"121\")) |>    grid_as_sf(crs = JGD2011) |>    ggplot(aes(fill = as_factor(city_name_ja))) +   geom_sf() +   scale_fill_brewer(\"City\",                     palette = \"Set2\")"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"文字列数値からの地域メッシュコードの生成","dir":"","previous_headings":"使用方法","what":"文字列・数値からの地域メッシュコードの生成","title":"Functions for the Grid Square Codes in Japan ","text":"文字列・数値から地域メッシュコードを生成するためにはparse_grid()を使用します． grid_size = NULLの場合はメッシュサイズが自動的に決定されます． デフォルト（strict = TRUE）では，メッシュコードの桁数が所定の桁数であることを要求します．","code":"x <- c(\"53394526313\", \"5339358633\", \"533945764\", \"53394611\", \"523503\", \"5339\", NA)  parse_grid(x, grid_size = \"80km\") #> <grid_80km[7]> #> [1] <NA> <NA> <NA> <NA> <NA> 5339 <NA> parse_grid(x, grid_size = \"125m\") #> <grid_125m[7]> #> [1] 53394526313 <NA>        <NA>        <NA>        <NA>        <NA>        #> [7] <NA> parse_grid(x) #> Guessing, grid_size = \"80km\" #> <grid_80km[7]> #> [1] <NA> <NA> <NA> <NA> <NA> 5339 <NA>  parse_grid(x, \"80km\",            strict = FALSE) #> <grid_80km[7]> #> [1] 5339 5339 5339 5339 5235 5339 <NA> parse_grid(x, \"125m\",            strict = FALSE) #> <grid_125m[7]> #> [1] 53394526313 <NA>        <NA>        <NA>        <NA>        <NA>        #> [7] <NA> parse_grid(x,             strict = FALSE) #> Guessing, grid_size = \"80km\" #> <grid_80km[7]> #> [1] 5339 5339 5339 5339 5235 5339 <NA>"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"地域メッシュコードのサイズの変換","dir":"","previous_headings":"使用方法","what":"地域メッシュコードのサイズの変換","title":"Functions for the Grid Square Codes in Japan ","text":"地域メッシュコードのメッシュサイズを粗くする場合には，grid_convert()を使用します． また，grid_subdivide()により，地域メッシュコードの細分化を行います． grid_subdivide()は，元のメッシュに含まれるメッシュを要素にもつリストを出力します． 500 mメッシュ・100 mメッシュ間の変換に対応しています．","code":"grid_500m <- parse_grid(\"533945764\", \"500m\")  grid_convert(grid_500m, \"1km\") #> <grid_1km[1]> #> [1] 53394576  grid_100m <- grid_subdivide(grid_500m, \"100m\") grid_100m #> [[1]] #> <grid_100m[25]> #>  [1] 5339457655 5339457665 5339457675 5339457685 5339457695 5339457656 #>  [7] 5339457666 5339457676 5339457686 5339457696 5339457657 5339457667 #> [13] 5339457677 5339457687 5339457697 5339457658 5339457668 5339457678 #> [19] 5339457688 5339457698 5339457659 5339457669 5339457679 5339457689 #> [25] 5339457699  tibble(grid_100m = grid_100m[[1]]) |>    grid_as_sf(crs = JGD2011) |>     ggplot() +   geom_sf() +   geom_sf_text(aes(label = as.character(grid_100m)))"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"経度緯度から地域メッシュコードへの変換","dir":"","previous_headings":"使用方法","what":"経度・緯度から地域メッシュコードへの変換","title":"Functions for the Grid Square Codes in Japan ","text":"coords_to_grid()は，経度・緯度を地域メッシュコードに変換します．","code":"tibble(X = c(139.7008, 135.4375), # 経度        Y = c(35.68906, 34.70833)) |>  # 緯度   mutate(grid_100m = coords_to_grid(X, Y, \"100m\"),          grid_125m = coords_to_grid(X, Y, \"125m\")) |>    knitr::kable()"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"地域メッシュコードから経度緯度への変換","dir":"","previous_headings":"使用方法","what":"地域メッシュコードから経度・緯度への変換","title":"Functions for the Grid Square Codes in Japan ","text":"grid_to_coords()は，地域メッシュコードを経度・緯度に変換します．","code":"tibble(grid = parse_grid(c(\"5339452660\", \"5235034590\"), \"100m\")) |>    mutate(grid_to_coords(grid)) |>    knitr::kable()"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"隣接メッシュの算出","dir":"","previous_headings":"使用方法","what":"隣接メッシュの算出","title":"Functions for the Grid Square Codes in Japan ","text":"grid_neighbor()関数は，隣接するメッシュを算出します． nを指定することでn次隣接メッシュの算出が可能 moore = FALSEでノイマン近傍での算出が可能","code":"neighbor <- parse_grid(\"644142\", \"10km\") |>    grid_neighbor(n = c(0:2),                 simplify = FALSE)  neighbor[[1]] |>    grid_as_sf(crs = JGD2011) |>       ggplot(aes(fill = as.factor(n))) +   geom_sf() +   geom_sf_text(aes(label = as.character(grid_neighbor))) neighbor_neumann <- parse_grid(\"644142\", \"10km\") |>    grid_neighbor(n = c(0:2),                 simplify = F,                 moore = F)  neighbor_neumann[[1]] |>    grid_as_sf(crs = JGD2011) |>    ggplot(aes(fill = as.factor(n))) +   geom_sf() +   geom_sf_text(aes(label = as.character(grid_neighbor)))"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"メッシュ間の線分描画","dir":"","previous_headings":"使用方法","what":"メッシュ間の線分描画","title":"Functions for the Grid Square Codes in Japan ","text":"grid_line()関数により，メッシュ間の線分上に存在するメッシュを抽出します．  メッシュのlistを与えることで複数メッシュを通る場合に対応可能です． close = TRUEで線分を閉じます． skip_na = TRUEでNAをスキップします．","code":"grid_from <- parse_grid(c(\"6441\", \"5339\"), \"80km\") grid_to <- parse_grid(c(\"5237\", \"5235\"), \"80km\")  line <- grid_line(grid_from, grid_to)  tibble::tibble(grid = line[[1]]) |>    grid_as_sf(crs = JGD2011) |>    ggplot() +   geom_sf() +   geom_sf_text(aes(label = as.character(grid))) grid_1 <- parse_grid(c(\"6441\", \"5339\", NA, \"5250\"), \"80km\") grid_2 <- parse_grid(c(\"6439\", \"5211\", \"4013\", \"6635\"), \"80km\")  line <- grid_line(list(grid_1, grid_2),                    close = TRUE,                   skip_na = TRUE)  tibble::tibble(grid = line[[1]]) |>    grid_as_sf(crs = JGD2011) |>    ggplot() +   geom_sf() +   geom_sf_text(aes(label = as.character(grid)))"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"メッシュ間距離の算出","dir":"","previous_headings":"使用方法","what":"メッシュ間距離の算出","title":"Functions for the Grid Square Codes in Japan ","text":"grid_distance()関数は，メッシュ間距離（大円距離）を算出します． grid_line()と同様にメッシュのlistで経路距離を算出可能です．","code":"grid_from <- parse_grid(c(\"6441\", \"5339\"), \"80km\") grid_to <- parse_grid(c(\"5237\", \"5235\"), \"80km\")  distance <- grid_distance(grid_from, grid_to)  print(distance) #> Units: [m] #> [1] 953014.2 371081.9"},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"その他","dir":"","previous_headings":"使用方法","what":"その他","title":"Functions for the Grid Square Codes in Japan ","text":"grid_move()関数により，東西南北方向の地域メッシュコードを算出可能です． 80kmメッシュの桁が負や三桁以上になる範囲外のメッシュについては，当該コードを<-1>，<123>のように表示し，既存メッシュと明確に区別できるようにしています．","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/index.html","id":"jpmeshとの処理速度の比較","dir":"","previous_headings":"","what":"jpmeshとの処理速度の比較","title":"Functions for the Grid Square Codes in Japan ","text":"本パッケージのメッシュ・緯度経度間の変換速度は，jpmeshパッケージと比べて数十～数百倍ほど高速です．","code":""},{"path":[]},{"path":"https://uchidamizuki.github.io/jpgrid/reference/XY.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conversion between grid square codes and coordinates (longitude and latitude) — XY","text":"","code":"grid_to_XY(grid, center = TRUE)  XY_to_grid(X, Y, grid_size)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/XY.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conversion between grid square codes and coordinates (longitude and latitude) — XY","text":"grid grid class vector. center center point grid returned? Otherwise end points returned. TRUE default. X numeric vector longitude. Y numeric vector latitude. grid_size grid size.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/XY.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Conversion between grid square codes and coordinates (longitude and latitude) — XY","text":"grid_to_XY() returns tbl_df. XY_to_grid() returns grid vector.","code":""},{"path":[]},{"path":"https://uchidamizuki.github.io/jpgrid/reference/as_tbl_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a data frame into a tbl_grid object — as_tbl_grid","text":"","code":"as_tbl_grid(x, var = NULL, grid_size = NULL, strict = TRUE, ...)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/as_tbl_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a data frame into a tbl_grid object — as_tbl_grid","text":"x object converted object class tbl_grid. var variable specify grid object. default, first column grid object taken. grid_size grid size. strict scalar logical. number digits grid square code match given number digits? ... Additional arguments passed tibble::new_tibble().","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/as_tbl_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a data frame into a tbl_grid object — as_tbl_grid","text":"tbl_grid object.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/as_tbl_grid.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a data frame into a tbl_grid object — as_tbl_grid","text":"recommended use grid_as_sf(). tbl_grid object data frame grid objects columns. as_tbl_grid converts data frame tbl_grid object.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/bbox_to_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Converting bbox to grid square codes — bbox_to_grid","title":"Converting bbox to grid square codes — bbox_to_grid","text":"Converting bbox grid square codes","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/bbox_to_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converting bbox to grid square codes — bbox_to_grid","text":"","code":"bbox_to_grid(bbox, grid_size)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/bbox_to_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converting bbox to grid square codes — bbox_to_grid","text":"bbox bbox. grid_size grid size.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/bbox_to_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converting bbox to grid square codes — bbox_to_grid","text":"grid vector.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/coords.html","id":null,"dir":"Reference","previous_headings":"","what":"Conversion between grid square codes and coordinates (longitude and latitude) — coords","title":"Conversion between grid square codes and coordinates (longitude and latitude) — coords","text":"Conversion grid square codes coordinates (longitude latitude)","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/coords.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conversion between grid square codes and coordinates (longitude and latitude) — coords","text":"","code":"coords_to_grid(X, Y, grid_size)  grid_to_coords(grid, center = TRUE)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/coords.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conversion between grid square codes and coordinates (longitude and latitude) — coords","text":"X numeric vector longitude. Y numeric vector latitude. grid_size grid size. grid grid class vector. center center point grid returned? Otherwise end points returned. TRUE default.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/coords.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Conversion between grid square codes and coordinates (longitude and latitude) — coords","text":"coords_to_grid() returns grid vector. grid_to_coords() returns tbl_df.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/geometry_to_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Converting sfc geometries to grid square codes — geometry_to_grid","title":"Converting sfc geometries to grid square codes — geometry_to_grid","text":"Converting sfc geometries grid square codes","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/geometry_to_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converting sfc geometries to grid square codes — geometry_to_grid","text":"","code":"geometry_to_grid(geometry, grid_size, options = \"ALL_TOUCHED=TRUE\", ...)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/geometry_to_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converting sfc geometries to grid square codes — geometry_to_grid","text":"geometry sfc vector. grid_size grid size. options Options vector GDALRasterize passed stars::st_rasterize(). ... Passed stars::st_rasterize().","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/geometry_to_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converting sfc geometries to grid square codes — geometry_to_grid","text":"list grid vectors.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_sf.html","id":null,"dir":"Reference","previous_headings":"","what":"Converting data frame containing grid square codes to sf — grid_as_sf","title":"Converting data frame containing grid square codes to sf — grid_as_sf","text":"Converting data frame containing grid square codes sf","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_sf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converting data frame containing grid square codes to sf — grid_as_sf","text":"","code":"grid_as_sf(   x,   as_points = FALSE,   crs = sf::NA_crs_,   grid_column_name = NULL,   ... )"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_sf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converting data frame containing grid square codes to sf — grid_as_sf","text":"x data frame grid. as_points Return center points grids ? crs Coordinate reference system. grid_column_name scalar character. ... passed sf::st_as_sf().","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_sf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converting data frame containing grid square codes to sf — grid_as_sf","text":"sf object.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_stars.html","id":null,"dir":"Reference","previous_headings":"","what":"Converting data frame containing regional grids to stars — grid_as_stars","title":"Converting data frame containing regional grids to stars — grid_as_stars","text":"Converting data frame containing regional grids stars","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_stars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Converting data frame containing regional grids to stars — grid_as_stars","text":"","code":"grid_as_stars(   x,   coords = NULL,   crs = sf::NA_crs_,   grid_column_name = NULL,   ... )"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_stars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Converting data frame containing regional grids to stars — grid_as_stars","text":"x data frame grid. coords column names indices form cube dimensions. crs Coordinate reference system. grid_column_name scalar character. ... Passed stars::st_as_stars().","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_as_stars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Converting data frame containing regional grids to stars — grid_as_stars","text":"stars object.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_city.html","id":null,"dir":"Reference","previous_headings":"","what":"List of grid square codes by Japanese municipalities — grid_city","title":"List of grid square codes by Japanese municipalities — grid_city","text":"List grid square codes Japanese municipalities","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_city.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List of grid square codes by Japanese municipalities — grid_city","text":"","code":"grid_city"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_city.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"List of grid square codes by Japanese municipalities — grid_city","text":"object class tbl_df (inherits tbl, data.frame) 462915 rows 6 columns.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_city.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"List of grid square codes by Japanese municipalities — grid_city","text":"https://www.stat.go.jp/data/mesh/m_itiran.html","code":""},{"path":[]},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_class.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Grid square code vector — grid_class","text":"","code":"grid_80km(x, strict = TRUE)  grid_10km(x, strict = TRUE)  grid_1km(x, strict = TRUE)  grid_500m(x, strict = TRUE)  grid_250m(x, strict = TRUE)  grid_125m(x, strict = TRUE)  grid_100m(x, strict = TRUE)  grid_auto(x, strict = TRUE)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_class.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Grid square code vector — grid_class","text":"x list vector. strict scalar logical. number digits grid square code match given number digits?","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_class.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Grid square code vector — grid_class","text":"grid vector.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_class.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Grid square code vector — grid_class","text":"recommended use grid_parse() grid_convert(). series functions return grid class grid size. grid_auto() returns automatically determine grid size largest grid size.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_convert.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert the grid size of grid objects — grid_convert","title":"Convert the grid size of grid objects — grid_convert","text":"Convert grid size grid objects","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_convert.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert the grid size of grid objects — grid_convert","text":"","code":"grid_convert(grid, grid_size)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_convert.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert the grid size of grid objects — grid_convert","text":"grid grid vector. grid_size grid size.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_convert.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert the grid size of grid objects — grid_convert","text":"grid vector.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_convert.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert the grid size of grid objects — grid_convert","text":"","code":"grid_500m <- parse_grid(c(\"533945263\", \"533935863\", \"533945764\"), \"500m\") grid_convert(grid_500m, \"10km\") #> <grid_10km[3]> #> [1] 533945 533935 533945"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_distance.html","id":null,"dir":"Reference","previous_headings":"","what":"Distance between grid square codes — grid_distance","title":"Distance between grid square codes — grid_distance","text":"grid grid_to vectors, distance grid grid_to calculated. grid list, path distance element calculated.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_distance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Distance between grid square codes — grid_distance","text":"","code":"grid_distance(   grid,   grid_to = NULL,   close = FALSE,   type = c(\"keep_na\", \"ignore_na\", \"skip_na\") )"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_distance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Distance between grid square codes — grid_distance","text":"grid grid vector list grid vector. grid_to grid vector. close path element closed grid list? type NA grid treated grid list? \"skip_na\" skips NA grid connects paths. \"keep_na\" default.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_distance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Distance between grid square codes — grid_distance","text":"double vector.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_line.html","id":null,"dir":"Reference","previous_headings":"","what":"Draw line segments between grid square codes — grid_line","title":"Draw line segments between grid square codes — grid_line","text":"grid grid_to vectors, line grid grid_to drawn (using Bresenham's line algorithm). grid list, path lines element grid drawn.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_line.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Draw line segments between grid square codes — grid_line","text":"","code":"grid_line(grid, grid_to = NULL, close = FALSE, skip_na = FALSE)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_line.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Draw line segments between grid square codes — grid_line","text":"grid grid vector list grid vector. grid_to grid vector. close path element closed grid list? skip_na skip NA grid connects paths? FALSE default.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_line.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Draw line segments between grid square codes — grid_line","text":"list grid vectors.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_move.html","id":null,"dir":"Reference","previous_headings":"","what":"Moving on grid square codes — grid_move","title":"Moving on grid square codes — grid_move","text":"Moving grid square codes","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_move.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Moving on grid square codes — grid_move","text":"","code":"grid_move(grid, n_X, n_Y)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_move.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Moving on grid square codes — grid_move","text":"grid grid vector. n_X Number moving cells longitude direction. n_Y Number moving cells latitude direction.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_move.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Moving on grid square codes — grid_move","text":"grid vector.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_neighbor.html","id":null,"dir":"Reference","previous_headings":"","what":"Neighborhood grid square codes — grid_neighbor","title":"Neighborhood grid square codes — grid_neighbor","text":"Neighborhood grid square codes","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_neighbor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Neighborhood grid square codes — grid_neighbor","text":"","code":"grid_neighbor(grid, n = 1L, moore = TRUE, simplify = TRUE)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_neighbor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Neighborhood grid square codes — grid_neighbor","text":"grid grid vector. n numeric vector degrees. moore Moore neighborhood (TRUE) Von Neumann neighborhood (FALSE). simplify simplify format return?","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_neighbor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Neighborhood grid square codes — grid_neighbor","text":"list grid vectors.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_subdivide.html","id":null,"dir":"Reference","previous_headings":"","what":"Subdivide grid square codes — grid_subdivide","title":"Subdivide grid square codes — grid_subdivide","text":"grid_subdivide() makes grid square codes finer.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_subdivide.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subdivide grid square codes — grid_subdivide","text":"","code":"grid_subdivide(grid, grid_size)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_subdivide.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subdivide grid square codes — grid_subdivide","text":"grid grid vector. grid_size grid size.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/grid_subdivide.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subdivide grid square codes — grid_subdivide","text":"list grid vector.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/is_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Test if the object is a grid — is_grid","title":"Test if the object is a grid — is_grid","text":"Test object grid","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/is_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test if the object is a grid — is_grid","text":"","code":"is_grid(x, grid_size = NULL)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/is_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test if the object is a grid — is_grid","text":"x object. grid_size grid size.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/is_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test if the object is a grid — is_grid","text":"TRUE object inherits grid class.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/jpgrid.html","id":null,"dir":"Reference","previous_headings":"","what":"Functions for the Grid Square Codes in Japan — jpgrid","title":"Functions for the Grid Square Codes in Japan — jpgrid","text":"Provides functions grid square codes Japan (https://www.stat.go.jp/english/data/mesh/index.html). Generates grid square codes longitude/latitude, geometries, grid square codes different scales, vice versa.","code":""},{"path":[]},{"path":"https://uchidamizuki.github.io/jpgrid/reference/jpgrid.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Functions for the Grid Square Codes in Japan — jpgrid","text":"Maintainer: Mizuki Uchida uchidamizuki@vivaldi.net","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/parse_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse grid square codes — parse_grid","title":"Parse grid square codes — parse_grid","text":"Parse grid square codes","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/parse_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse grid square codes — parse_grid","text":"","code":"parse_grid(x, grid_size = NULL, strict = TRUE)"},{"path":"https://uchidamizuki.github.io/jpgrid/reference/parse_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse grid square codes — parse_grid","text":"x character vector grid square codes. grid_size grid size. strict scalar logical. number digits grid square code match given number digits? default, TRUE.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/reference/parse_grid.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse grid square codes — parse_grid","text":"","code":"parse_grid(\"53394526313\") #> Guessing, grid_size = \"125m\" #> <grid_125m[1]> #> [1] 53394526313 parse_grid(\"53394526313\", \"80km\") #> <grid_80km[1]> #> [1] <NA> parse_grid(\"53394526313\", \"80km\",            strict = FALSE) #> <grid_80km[1]> #> [1] 5339"},{"path":"https://uchidamizuki.github.io/jpgrid/news/index.html","id":"version-031","dir":"Changelog","previous_headings":"","what":"version 0.3.1","title":"version 0.3.1","text":"CRAN release: 2023-03-26 Fix bug st_as_sfc.grid(). Fix vec_ptype_abbr() methods.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/news/index.html","id":"version-030","dir":"Changelog","previous_headings":"","what":"version 0.3.0","title":"version 0.3.0","text":"CRAN release: 2023-02-11 Add parse_grid() grid_convert(), deprecate grid_80km(), grid_10km() . Add grid_to_coords() coords_to_grid(), deprecate grid_to_XY() XY_to_grid(). Remove deprecations grid_as_sf() grid_as_stars(), deprecated as_tbl_grid(). Remove grid_bbox() grid_circle(). Rename grid_city2015 grid_city.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/news/index.html","id":"version-021","dir":"Changelog","previous_headings":"","what":"version 0.2.1","title":"version 0.2.1","text":"CRAN release: 2023-01-14 Add as_tbl_grid(). Add st_as_sf(), st_bbox(), st_as_stars() plot() tbl_grid. Add grid_circle(). Rename grid_rectangle() grid_bbox().","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/news/index.html","id":"version-020","dir":"Changelog","previous_headings":"","what":"version 0.2.0","title":"version 0.2.0","text":"CRAN release: 2022-05-03 Change package name japanmesh jpgrid match English name, “Grid Square Codes”. Replace mesh grid function names. Remove mesh_to_polygon() mesh_to_point() add sf::st_as_sfc() method.","code":""},{"path":[]},{"path":"https://uchidamizuki.github.io/jpgrid/news/index.html","id":"new-features-0-1-1","dir":"Changelog","previous_headings":"","what":"New Features","title":"version 0.1.1","text":"mesh_zoomin() soft-deprecated replaced mesh_subdivide(). mesh_zoomout() soft-deprecated replaced mesh_80km(), mesh_10km(), etc. New point_to_mesh(), geometry_to_mesh(), mesh_grid() bbox_to_mesh(). ## Others Fix package versions utils imports. Update DESCRIPTION README, add explanation regional mesh codes Japan.","code":""},{"path":"https://uchidamizuki.github.io/jpgrid/news/index.html","id":"version-010","dir":"Changelog","previous_headings":"","what":"version 0.1.0","title":"version 0.1.0","text":"Initial version.","code":""}]
